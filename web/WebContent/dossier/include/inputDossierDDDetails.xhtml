<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<body>
	<ui:composition>
		
		<style>
			.c1{
				font-weight: bold;
				width: 200px;
			}
			.c2{
				
			}
			.c3{
				
			}
		</style>
		
		
		<p:panelGrid columns="#{editable?6:4}" styleClass="panelGridNoBorder" columnClasses="c1,c2,c3,c1,c2,c3">
			<p:outputLabel for="dateCessationService" value="Date de cessation de service" rendered="#{controller.showDateCessationService}" />
			<p:calendar id="dateCessationService" value="#{controller.dossier.dateCessationService}" pattern="#{constantResources.datePattern}" required="true" requiredMessage="#{valueRequiredMessage}" 
				rendered="#{controller.showDateCessationService and (editable==null or editable)}"/>
			<h:outputText value="#{controller.dossier.dateCessationService}" rendered="#{not editable and controller.showDateCessationService}"><f:convertDateTime pattern="#{constantResources.datePattern}"/></h:outputText>
			<p:message for="dateCessationService" rendered="#{controller.showDateCessationService}"/>

			<p:outputLabel for="datePriseService" value="Date de prise de service" rendered="#{controller.showDatePriseService}" />
			<p:calendar id="datePriseService" value="#{controller.dossier.datePriseService}" pattern="#{constantResources.datePattern}" required="true" requiredMessage="#{valueRequiredMessage}" rendered="#{controller.showDatePriseService and (editable==null or editable)}"/>
			<h:outputText value="#{controller.dossier.datePriseService}" rendered="#{not editable and controller.showDatePriseService}"><f:convertDateTime pattern="#{constantResources.datePattern}"/></h:outputText>
			<p:message for="datePriseService" rendered="#{controller.showDatePriseService}" />			
			
			<p:outputLabel for="dateMiseRetraite" value="Date de mise à la retraite" rendered="#{controller.showDateMiseRetraite}" />
			<p:calendar id="dateMiseRetraite" value="#{controller.dossier.dateMiseRetraite}" pattern="#{constantResources.datePattern}" required="true" requiredMessage="#{valueRequiredMessage}" 
				rendered="#{controller.showDateMiseRetraite and (editable==null or editable)}"/>
			<h:outputText value="#{controller.dossier.dateMiseRetraite}" rendered="#{not editable and controller.showDateMiseRetraite}"><f:convertDateTime pattern="#{constantResources.datePattern}"/></h:outputText>
			<p:message for="dateMiseRetraite" rendered="#{controller.showDateMiseRetraite}"/>
								
		</p:panelGrid>

		<p:panelGrid columns="#{editable?6:4}" styleClass="panelGridNoBorder" columnClasses="c1,c2,c3,c1,c2,c3">
			
			<p:outputLabel for="mariage" value="Situation Matrimoniale" rendered="#{editable}"/>			
			<p:selectOneRadio id="mariage" required="true" requiredMessage="#{valueRequiredMessage}" value="#{enregistrerDemandeDDController.marie}" rendered="#{editable}">
				<f:selectItem itemLabel="Marié(e)" itemValue="true" />
				<f:selectItem itemLabel="Célibataire" itemValue="false" />
				<p:ajax event="click" update="@parent" />
			</p:selectOneRadio>	
			<p:message for="mariage" rendered="#{editable}"/>				
			<h:outputText value="" rendered="#{editable}"/><h:outputText value="" rendered="#{editable}"/><h:outputText value="" rendered="#{editable}"/>
			
			<p:outputLabel for="dateMariage" value="Marié(e) le" rendered="#{enregistrerDemandeDDController.marie}"/>
			<p:calendar id="dateMariage" value="#{controller.dossier.dateMariage}" pattern="#{constantResources.datePattern}" required="true" requiredMessage="#{valueRequiredMessage}" rendered="#{editable and enregistrerDemandeDDController.marie}"/>
			<h:outputText value="#{controller.dossier.dateMariage}" rendered="#{not editable and enregistrerDemandeDDController.marie}"><f:convertDateTime pattern="#{constantResources.datePattern}"/></h:outputText>
			<p:message for="dateMariage" rendered="#{editable and enregistrerDemandeDDController.marie}"/>
	
			<p:outputLabel for="lieuMariage" value="Marié(e) à la mairie de" rendered="#{enregistrerDemandeDDController.marie}"/>
			<p:selectOneMenu id="lieuMariage" value="#{enregistrerDemandeDDController.dossier.mairieMariage}" required="true" requiredMessage="#{valueRequiredMessage}" converter="#{objectConverter}" 
				rendered="#{editable and enregistrerDemandeDDController.marie}">
				<f:selectItem noSelectionOption="" itemLabel="#{noSelectionOptionMessage}"/>
				<f:selectItems value="#{communes}" />
			</p:selectOneMenu>
			<h:outputText value="#{enregistrerDemandeDDController.dossier.mairieMariage}" rendered="#{not editable and enregistrerDemandeDDController.marie}"/>
			<p:message for="lieuMariage" rendered="#{editable and enregistrerDemandeDDController.marie}"/>
			
			<p:outputLabel for="registMar" value="Numéro du régistre de mariage" rendered="#{enregistrerDemandeDDController.marie}"/>
			<p:inputText id="registMar" value="#{controller.dossier.numeroRegistreMariage}" required="true" requiredMessage="#{valueRequiredMessage}" rendered="#{editable and enregistrerDemandeDDController.marie}"/>
			<h:outputText value="#{controller.dossier.numeroRegistreMariage}" rendered="#{not editable and enregistrerDemandeDDController.marie}"/>
			<p:message for="registMar" rendered="#{editable and enregistrerDemandeDDController.marie}"/>	
			<h:outputText value="" rendered="#{editable and enregistrerDemandeDDController.marie}"/><h:outputText value="" rendered="#{editable and enregistrerDemandeDDController.marie}"/><h:outputText value="" rendered="#{editable and enregistrerDemandeDDController.marie}"/>	
			
			<p:outputLabel for="nbrEnfant" value="Nombre d'enfant"/>
			<p:inputText id="nbrEnfant" value="#{enregistrerDemandeDDController.nombreEnfant}" rendered="#{editable}"/>
			<h:outputText rendered="#{not editable}" value="#{enregistrerDemandeDDController.nombreEnfant}"/>
			<p:message for="nbrEnfant" rendered="#{editable}"/>					
		</p:panelGrid>
		
	</ui:composition>
</body>
</html>
